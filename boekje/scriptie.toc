\select@language {USenglish}
\contentsline {chapter}{Preface}{i}{chapter*.1}
\contentsline {chapter}{Copyright declaration}{ii}{chapter*.2}
\contentsline {chapter}{Overview}{iii}{chapter*.2}
\contentsline {chapter}{Extended abstract}{iv}{section*.4}
\contentsline {chapter}{Contents}{v}{section*.4}
\contentsline {chapter}{List of Figures}{viii}{chapter*.6}
\contentsline {chapter}{List of Tables}{xvi}{chapter*.7}
\contentsline {chapter}{List of Abbreviations}{xvii}{chapter*.8}
\contentsline {chapter}{\numberline {1}Introduction}{1}{chapter.1}
\contentsline {section}{\numberline {1.1}Virtualization}{1}{section.1.1}
\contentsline {subsection}{\numberline {1.1.1}Abstractions}{1}{subsection.1.1.1}
\contentsline {paragraph}{First example}{1}{section*.9}
\contentsline {paragraph}{Second example}{2}{section*.10}
\contentsline {subsection}{\numberline {1.1.2}Abstraction and virtual machines}{3}{subsection.1.1.2}
\contentsline {section}{\numberline {1.2}Why use virtualization}{4}{section.1.2}
\contentsline {subsection}{\numberline {1.2.1}Benefits of using machine virtualization}{4}{subsection.1.2.1}
\contentsline {subsection}{\numberline {1.2.2}Challenges and disadvantages of using machine virtualization}{5}{subsection.1.2.2}
\contentsline {section}{\numberline {1.3}Security issues regarding virtualization}{6}{section.1.3}
\contentsline {chapter}{\numberline {2}Virtualization}{7}{chapter.2}
\contentsline {section}{\numberline {2.1}Machine virtualization - Hypervisors}{7}{section.2.1}
\contentsline {subsection}{\numberline {2.1.1}Bare-metal hypervisors}{8}{subsection.2.1.1}
\contentsline {subsubsection}{\numberline {2.1.1.1}Hyper-V}{8}{subsubsection.2.1.1.1}
\contentsline {paragraph}{Architecture of Hyper-V}{9}{section*.11}
\contentsline {subsubsection}{\numberline {2.1.1.2}Xen}{11}{subsubsection.2.1.1.2}
\contentsline {paragraph}{Architecture of the Xen Project hypervisor}{11}{section*.12}
\contentsline {subsubsection}{\numberline {2.1.1.3}VMware ESXi}{13}{subsubsection.2.1.1.3}
\contentsline {paragraph}{Architecture of the ESXi hypervisor}{13}{section*.13}
\contentsline {subsection}{\numberline {2.1.2}Hosted hypervisors}{14}{subsection.2.1.2}
\contentsline {section}{\numberline {2.2}Network virtualization}{14}{section.2.2}
\contentsline {subsection}{\numberline {2.2.1}External virtual network}{15}{subsection.2.2.1}
\contentsline {subsection}{\numberline {2.2.2}Internal virtual network}{16}{subsection.2.2.2}
\contentsline {subsection}{\numberline {2.2.3}Private virtual network}{16}{subsection.2.2.3}
\contentsline {subsection}{\numberline {2.2.4}External network virtualization}{17}{subsection.2.2.4}
\contentsline {section}{\numberline {2.3}Storage virtualization}{19}{section.2.3}
\contentsline {subsection}{\numberline {2.3.1}Host-based storage virtualization}{19}{subsection.2.3.1}
\contentsline {subsection}{\numberline {2.3.2}Virtual hard disks in Hyper-V}{20}{subsection.2.3.2}
\contentsline {chapter}{\numberline {3}Security aspects}{21}{chapter.3}
\contentsline {section}{\numberline {3.1}Known non-network related security issues}{21}{section.3.1}
\contentsline {subsection}{\numberline {3.1.1}Virusses and malware problems}{21}{subsection.3.1.1}
\contentsline {paragraph}{I/O MMU Virtualization and DMA}{21}{section*.14}
\contentsline {paragraph}{x86 Virtualization and rootkits}{22}{section*.15}
\contentsline {section}{\numberline {3.2}Known network related security issues}{23}{section.3.2}
\contentsline {section}{\numberline {3.3}Possible solutions}{23}{section.3.3}
\contentsline {subsubsection}{\numberline {3.3.0.1}Use of firewalls}{23}{subsubsection.3.3.0.1}
\contentsline {subsubsection}{\numberline {3.3.0.2}Securing the guests}{23}{subsubsection.3.3.0.2}
\contentsline {subsubsection}{\numberline {3.3.0.3}Antimalware solution}{24}{subsubsection.3.3.0.3}
\contentsline {section}{\numberline {3.4}Sniffing on virtual networks}{24}{section.3.4}
\contentsline {subsection}{\numberline {3.4.1}First research question: sniffing a virtual NIC}{24}{subsection.3.4.1}
\contentsline {subsubsection}{\numberline {3.4.1.1}Setting up the environment and testing}{25}{subsubsection.3.4.1.1}
\contentsline {paragraph}{First stage: inter-VM testing}{26}{section*.16}
\contentsline {paragraph}{Second stage: external network testing}{28}{section*.17}
\contentsline {subsection}{\numberline {3.4.2}Penetration testing on virtual networks}{32}{subsection.3.4.2}
\contentsline {subsubsection}{\numberline {3.4.2.1}Snort}{32}{subsubsection.3.4.2.1}
\contentsline {subsubsection}{\numberline {3.4.2.2}Preprocessors}{33}{subsubsection.3.4.2.2}
\contentsline {subsubsection}{\numberline {3.4.2.3}PulledPork}{33}{subsubsection.3.4.2.3}
\contentsline {subsubsection}{\numberline {3.4.2.4}Barnyard2}{33}{subsubsection.3.4.2.4}
\contentsline {subsubsection}{\numberline {3.4.2.5}Packet capturing}{33}{subsubsection.3.4.2.5}
\contentsline {subsubsection}{\numberline {3.4.2.6}NIDS and HIDS}{34}{subsubsection.3.4.2.6}
\contentsline {subsubsection}{\numberline {3.4.2.7}Analysis tools}{34}{subsubsection.3.4.2.7}
\contentsline {subsubsection}{\numberline {3.4.2.8}Running Snort IDS on a virtual network}{35}{subsubsection.3.4.2.8}
\contentsline {subsubsection}{\numberline {3.4.2.9}First things first: basic configuration of Snort}{36}{subsubsection.3.4.2.9}
\contentsline {subsubsection}{\numberline {3.4.2.10}Configuring Snort rules}{38}{subsubsection.3.4.2.10}
\contentsline {subsubsection}{\numberline {3.4.2.11}Updating the rules using PulledPork}{40}{subsubsection.3.4.2.11}
\contentsline {subsubsection}{\numberline {3.4.2.12}Confirming that Snort is actually working}{40}{subsubsection.3.4.2.12}
\contentsline {subsection}{\numberline {3.4.3}Actual penetration testing}{44}{subsection.3.4.3}
\contentsline {subsubsection}{\numberline {3.4.3.1}What types of attacks will be performed?}{45}{subsubsection.3.4.3.1}
\contentsline {subsubsection}{\numberline {3.4.3.2}Motivation for the choice of the attacks}{45}{subsubsection.3.4.3.2}
\contentsline {subsubsection}{\numberline {3.4.3.3}Testing methods}{46}{subsubsection.3.4.3.3}
\contentsline {subsubsection}{\numberline {3.4.3.4}NMAP scanning}{46}{subsubsection.3.4.3.4}
\contentsline {paragraph}{Unfragmented packets}{46}{section*.18}
\contentsline {paragraph}{Fragmented SYN packets}{47}{section*.19}
\contentsline {subsubsection}{\numberline {3.4.3.5}Preventing port scanning with Snort}{49}{subsubsection.3.4.3.5}
\contentsline {subsubsection}{\numberline {3.4.3.6}Webserver attacks}{49}{subsubsection.3.4.3.6}
\contentsline {subsubsection}{\numberline {3.4.3.7}Cross-site scripting (XSS) attack}{49}{subsubsection.3.4.3.7}
\contentsline {subsubsection}{\numberline {3.4.3.8}SQL Injection}{52}{subsubsection.3.4.3.8}
\contentsline {subsubsection}{\numberline {3.4.3.9}Command injection}{56}{subsubsection.3.4.3.9}
\contentsline {subsubsection}{\numberline {3.4.3.10}FTP server attacks}{58}{subsubsection.3.4.3.10}
\contentsline {subsubsection}{\numberline {3.4.3.11}Preventing FTP server attacks}{61}{subsubsection.3.4.3.11}
\contentsline {subsubsection}{\numberline {3.4.3.12}SSH attacks}{61}{subsubsection.3.4.3.12}
\contentsline {subsubsection}{\numberline {3.4.3.13}Database server attacks}{63}{subsubsection.3.4.3.13}
\contentsline {subsubsection}{\numberline {3.4.3.14}Trojan Infections}{64}{subsubsection.3.4.3.14}
\contentsline {subsubsection}{\numberline {3.4.3.15}DOS attacks}{69}{subsubsection.3.4.3.15}
\contentsline {subsubsection}{\numberline {3.4.3.16}Protecting against DOS attacks}{71}{subsubsection.3.4.3.16}
\contentsline {subsubsection}{\numberline {3.4.3.17}Random stuff}{72}{subsubsection.3.4.3.17}
\contentsline {section}{\numberline {3.5}Security of dual-boot systems}{73}{section.3.5}
\contentsline {subsection}{\numberline {3.5.1}Second research question: hacking of dual-boot systems}{73}{subsection.3.5.1}
\contentsline {subsection}{\numberline {3.5.2}Preventing access to a (virtual) hard disk}{82}{subsection.3.5.2}
\contentsline {subsection}{\numberline {3.5.3}Downsides of using BitLocker}{88}{subsection.3.5.3}
\contentsline {chapter}{\numberline {4}Installation of a private cloud}{94}{chapter.4}
\contentsline {section}{\numberline {4.1}Installation of Microsoft System Center 2012 R2 Virtual Machine Manager}{94}{section.4.1}
\contentsline {subsection}{\numberline {4.1.1}Installation requirements}{94}{subsection.4.1.1}
\contentsline {paragraph}{Hardware requirements (up to managing 150 hosts)}{94}{section*.21}
\contentsline {paragraph}{Software requirements}{94}{section*.22}
\contentsline {paragraph}{Other requirements}{95}{section*.23}
\contentsline {subsection}{\numberline {4.1.2}Generatl installation overview}{95}{subsection.4.1.2}
\contentsline {subsection}{\numberline {4.1.3}Pre-installation configuration}{95}{subsection.4.1.3}
\contentsline {subsection}{\numberline {4.1.4}Installation of MSSQL Server 2012 SP2}{98}{subsection.4.1.4}
\contentsline {subsection}{\numberline {4.1.5}Configuring Distributed Key Management in Active Directory}{104}{subsection.4.1.5}
\contentsline {subsection}{\numberline {4.1.6}Post configuration of MSSQL Server}{110}{subsection.4.1.6}
\contentsline {subsection}{\numberline {4.1.7}Installation of VMM}{113}{subsection.4.1.7}
\contentsline {section}{\numberline {4.2}Installation of Windows Azure Pack}{122}{section.4.2}
\contentsline {subsection}{\numberline {4.2.1}Prerequisites}{123}{subsection.4.2.1}
\contentsline {subsection}{\numberline {4.2.2}Post Installation of Service Provider Foundation}{137}{subsection.4.2.2}
\contentsline {subsection}{\numberline {4.2.3}Installation of the Windows Azure Pack}{141}{subsection.4.2.3}
\contentsline {chapter}{\numberline {5}Conclusions and recommendations}{149}{chapter.5}
\contentsline {chapter}{\numberline {A}Test lab}{150}{appendix.A}
\contentsline {section}{\numberline {A.1}General description}{150}{section.A.1}
\contentsline {section}{\numberline {A.2}Technical description}{151}{section.A.2}
\contentsline {subsection}{\numberline {A.2.1}Hardware overview}{151}{subsection.A.2.1}
\contentsline {subsection}{\numberline {A.2.2}Networking overview}{151}{subsection.A.2.2}
\contentsline {section}{\numberline {A.3}Visualization of the test lab}{153}{section.A.3}
\contentsline {chapter}{Bibliography}{154}{appendix*.24}
